<!-- <ol class="breadcrumb breadcrumb-arrow font-trirong">
  <li><a href="javascript://" [routerLink]="['/cns-portal/dashboard/order']"> <clr-icon shape="home"></clr-icon></a></li>
  <li><a href="javascript://"> <clr-icon shape="flag"></clr-icon>  Super Admin</a></li>
  <li><a href="javascript://"> Report Runner</a></li>
</ol> -->
<h4 style="font-weight: 300;display: inline;"><b>Report Name - {{reportName}}</b></h4>
<hr>
<div class="container">
  <div class="clr-row">
    <div class="clr-col-md-6 clr-col-sm-12" *ngIf="date_param_req == 'Yes'">
      <h5 style="font-weight: 200;display: inline; color: black;"><b>Date Range</b></h5>
      <div class="clr-row">
        <div class="clr-col-md-12 clr-col-sm-12">
          <label for="description">Date Parameters</label>
            <select id="condition"  class="clr-dropdown" [(ngModel)]="SelectdateType" (change)="select($event.target.value)">
            <option value="">--Select Particular--</option>
            <!-- <option>To Specific FromDate To To Date</option> -->
            <option >Today</option>
            <option >This Week</option>
            <option >Last Week</option>
            <option >This Month</option>
            <option>Last Month</option>
            <option >This Year</option>
            <option>Last Year</option>
            </select>
      </div>
      </div>
      <div class="clr-row">
        <div class="clr-col-md-6 clr-col-sm-12">
          <label for="description">From Date</label>
          <input  type="date"  class="clr-input"  name="FromDatequery" (change)="modo2($event.target.value)"  [(ngModel)]="FromDatequery" style="background-color:rgb(255, 255, 255);">
        </div>
        <div class="clr-col-md-6 clr-col-sm-12">
          <label for="description">To Date</label>
          <input  type="date"  class="clr-input"  name="ToDatequery" (change)="modo3($event.target.value)"  [(ngModel)]="ToDatequery" style="background-color:rgb(255, 255, 255);">
        </div>
      </div>
    </div>
    <div class="clr-col-md-6 clr-col-sm-12">
      <h5 style="font-weight: 200;display: inline; color: black;"><b>Standard Parameters</b></h5>
      <!-- <span *ngIf="stdParamFlag" [innerHTML]="stdParmas"></span> -->
      <form [formGroup]="dynamicForm">
      <div class="clr-row" >
        <div class="clr-col-6" *ngFor="let field of dynamicHtml">
          <ng-container *ngIf="dynamicHtmlFlag">
            <label>{{ field }}</label>
            <input type="text" [formControlName]="field" class="clr-input" [placeholder]="'Enter ' + field" style="background-color: rgb(255, 255, 255);" />
            <!-- <ng-container *ngIf="isDate(rows[field]); then dateCell; else regularCell"></ng-container>
            <ng-template #dateCell>
              <input type="date" [formControlName]="field" class="clr-input" style="background-color: rgb(255, 255, 255);" />
            </ng-template>
            <ng-template #regularCell>
              <input type="text" [formControlName]="field" class="clr-input" [placeholder]="'Enter ' + field" style="background-color: rgb(255, 255, 255);" />
            </ng-template> -->
          </ng-container>
        </div>
        </div>
      </form>
      <!-- <div *ngIf="!stdParamFlag" class="clr-row">
        <div class="clr-col-md-6 clr-col-sm-12">
        <label for="description">Param 1</label>
            <select id="condition"  class="clr-dropdown">
            <option value="null">select Param</option>
            </select>
        </div>
        <div class="clr-col-md-6 clr-col-sm-12">
          <label for="description">Param 2</label>
              <select id="condition"  class="clr-dropdown">
              <option value="null">select Param</option>
              </select>
          </div>
          <div class="clr-col-md-6 clr-col-sm-12">
            <label for="description">Param 1</label>
                <select id="condition"  class="clr-dropdown">
                <option value="null">select Param</option>
                </select>
            </div>
            <div class="clr-col-md-6 clr-col-sm-12">
              <label for="description">Param 2</label>
                  <select id="condition"  class="clr-dropdown">
                  <option value="null">select Param</option>
                  </select>
              </div>
      </div> -->
    </div>
  </div>
</div>
<div class="container">
  <div class="clr-row">
    <h5 style="font-weight: 200;display: inline;padding-left: 10px; color: black; "><b>Adhoc Parameters</b></h5>
    </div>
    <form >
      <div class="clr-row fieldWrapper" >
          <div class="clr-col-12">
              <table class="table table-noborder" style="margin-top: 0px;"><!--table table-striped table-bordered-->
                  <!-- <thead>
                      <tr>
                          <th>ANDOR</th>
                          <th>FIELD NAME</th>
                          <th>CONDITION</th>
                          <th>VALUE</th>
                          <th class="right" style="width:125px;">Action</th>
                      </tr>
                  </thead> -->
                  <tbody>
                      <tr  *ngFor="let data of serverData; let i = index">
                          <td ><select colspan="2" [(ngModel)]="data.andor" [ngModelOptions]="{standalone: true}" name="andor" class="clr-dropdown">
                              <option [ngValue]="null">Select Values</option>
                              <option *ngFor="let sub of andor" [ngValue]="sub">{{sub}}</option>
                              </select>
                          </td>
                          <td><select colspan="2"  [(ngModel)]="data.fields_name" [ngModelOptions]="{standalone: true}" name="fields_name" class="clr-dropdown">
                              <option  [ngValue]="null">Select Values</option>
                              <option *ngFor="let sub of adhocList" [ngValue]="sub">{{sub}}</option>
                              </select>
                          </td>
                          <td>
                           <select colspan="2" [(ngModel)]="data.condition" [ngModelOptions]="{standalone: true}" name="condition" class="clr-dropdown">
                              <option  [ngValue]="null">Select Values</option>
                              <option *ngFor="let sub of condition" [ngValue]="sub">{{sub}}</option>
                              </select>
                          </td>
                          <td><input type="text"   [(ngModel)]="data.value" [ngModelOptions]="{standalone: true}" name="value" class="clr-input" style="background-color:rgb(255, 255, 255);"/></td>
                          <td style="width:120px;">
                              <a (click)="deleteRow(i)" title="Delete">
                                  <clr-icon shape="trash" class="is-error"></clr-icon>
                              </a>
                              <!-- <a href="javascript:void(0)" role="tooltip" aria-haspopup="true" class="tooltip tooltip-sm tooltip-top-left"> -->
                              <span class="label label-light-blue" style="display: inline;margin-left: 10px;" (click)="onAddLines()" title="Add"> <clr-icon shape="plus"></clr-icon></span><!-- *ngIf="i === showPlusIconRow"-->
                              <!-- <span class="tooltip-content">Add</span>
                              </a> -->
                          </td>
                      </tr>
  
                  </tbody>
                  <!-- <span class="label label-light-blue" style="display: inline;margin-left: 10px;" (click)="onAddLines()"> <clr-icon shape="plus"></clr-icon></span> -->
              </table>
          </div>
      </div>
  </form>
</div>
<!-- <div class="clr-row" style="margin-top: 30px;">
<div class="clr-col-md-4 clr-col-sm-12">
  <label for="description">Date Parameters</label>
  <select id="condition"  class="clr-dropdown" (change)="select($event.target.value)">
          <option>--Select Particular--</option>
          <option>To Specific FromDate To To Date</option>
          <option >This Week</option>
          <option >Last Week</option>
          <option >This Month</option>
          <option>Last Month</option>
          <option >This Year</option>
          <option>Last Year</option>
      </select>
</div>

<div class="clr-col-md-8 clr-col-sm-12">
  <label for="description">Standard Parameters</label>
   <textarea name="" id="" cols="35" rows="4"  name="description">
        </textarea>
</div>

</div> -->
<!-- <div class="clr-row">
  <div class="clr-col-md-6 clr-col-sm-12">
    <label for="description">Adhoc Parameters</label>
     <textarea name="" id="" cols="50" rows="4"  name="description">
          </textarea>
  </div>
  <div class="clr-col-md-6 clr-col-sm-12">
    <label for="description">Parameters</label>
     <textarea name="" id="" cols="50" rows="4"  name="description">
          </textarea>
  </div>
</div> -->
<div class="clr-row">
  <div class="clr-col-4" style="padding-top: 20px;">
<h4 style="font-weight: 300;display: inline;"><b>Report Output</b></h4>
</div>
<div class="clr-col-8" style="text-align: right;">
  <clr-signpost style="padding-right: 10px;">
    <button class="btn btn-outline" aria-label="Icon Button Trigger" clrSignpostTrigger title="download">
      <clr-icon shape="download"></clr-icon>
    </button>
    <clr-signpost-content [clrPosition]="'bottom-middle'" *clrIfOpen>
      <button class="btn btn-primary"  (click)="onExport()">xlsx</button>
      <button class="btn btn-primary" (click)="downloadFile('csv')" >CSV</button>
      <button class="btn btn-primary"  (click)="downloadFile('pdf')" >PDF</button>
    </clr-signpost-content>
  </clr-signpost>
  <button class="btn btn-outline" (click)="back()"> Back
  </button>
  <button id="add" class="btn btn-primary" (click)="runtheQuery()">
    Run
  </button>
</div>
</div>
<hr>
<div style="max-height:500px; overflow:auto">
  <table class="table">
    <thead>
      <tr>
        <th *ngFor="let co of getHeaders();let i=index">{{co}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of rows">
        <td *ngFor="let key of getHeaders()">
          <!-- Check if the key is 'cretaedat' -->
          <ng-container *ngIf="isDate(item[key]); else regularCell">
            {{  formatDate(item[key]) }}
          </ng-container>
          <ng-template #regularCell>
            {{ item[key] }}
          </ng-template>
        </td>
      </tr>
    </tbody>
    <!-- <tbody>
      <tr *ngFor="let item of rows">
        <td *ngFor="let key of getHeaders()">{{item[key]}}</td>
      </tr>
    </tbody> -->
  </table>
</div>
<!-- <div>
  <table style="width:40%" class="table table-striped table-bordered">
    <thead>
      <tr>
      <th>ID</th>
      <th>Lastname</th>
      <th>From date</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of duplicateArray">
        <td>{{item.id}}</td>
       <td>{{item.name}}</td>
         <td>{{item.fromDate}}</td>
      </tr>
    </tbody>
  </table>
</div> -->


<clr-modal [(clrModalOpen)]="modalselect" [clrModalSize]="'lg'" [clrModalStaticBackdrop]="true">
  <h3 class="modal-title">Select From to To</h3>
  <div class="modal-body">
    <div class="clr-row">
      <div class="clr-col-md-4 clr-col-sm-12">

       <label for="tags">Changed  Date From</label>
              <input  type="date"  class="clr-input"  name="cnid" (change)="modo2($event.target.value)" [(ngModel)]="myDateValue">
           </div>
            <div class="clr-col-md-4 clr-col-sm-12">
                <label for="tags">changed Date To </label>
                <input  type="date"  class="clr-input"  name="todate" (change)="modo3($event.target.value)" [(ngModel)]="toDate">
             </div>
    </div>
    <div class="modal-footer">

      <button  class="btn btn-primary" (click)="filterDate()">Run</button>
      <button class="btn btn-outline" (click)="modalselect = false">Cancle</button>
    </div>
  </div>
</clr-modal>
